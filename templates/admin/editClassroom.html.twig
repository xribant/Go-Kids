{% extends 'base.html.twig' %}

{% block title %}
GO Kids - Modification d'une classe
{% endblock %}

{% block content %}


              
<!-- page content -->
        <div class="right_col" role="main">
          <div class="">

            <div class="clearfix"></div>

            <div class="row">
              <div class="col-md-8 col-sm-10 col-xs-12">
                <div class="x_panel">
                  <div class="x_title">
                    <h2>Modification de la classe : {{ classroom.name }} </h2>
                    
                    <div class="clearfix"></div>
                  </div>
                  <div class="x_content">

                    {{ form_start(form) }}
                    <form id="register-user" class="form-horizontal form-label-left input_mask">

                      <div class="col-md-6 col-sm-8 col-xs-12 form-group">
                        <label>Nom: </label>
                          {{ form_widget(form.name, { 'attr': { 'class': 'form-control', 'id': 'form_name', 'name': 'form[name]', 'value': classroom.name } } ) }}
                          {{ form_errors(form.name, { 'attr': { 'class': 'form-error'} } ) }}
                      </div>

                      <div class="col-md-6 col-sm-8 col-xs-12 form-group">
                        <label>Description: </label>
                          {{ form_widget(form.description, { 'attr': { 'class': 'form-control', 'id': 'form_description', 'name': 'form[description]', 'value': classroom.description } } ) }}
                          {{ form_errors(form.description, { 'attr': { 'class': 'form-error'} } ) }}
                      </div>
              
                      <div class="form-group col-md-12 col-sm-12 col-xs-12">
                          <h2>Assigner un/des Prof(s) à cette classe</h2>
                          <table id="profs-table" class="table table-striped table-bordered bulk_action">
                            <thead>
                              <tr>
                                <th>Nom</th>
                              </tr>
                            </thead>

                            <tbody>

                                  {% for teacher in form.teachers %}
                                    {% set index = teacher.vars.value %}
                                    {% set entity = form.teachers.vars.choices[index].data %}
                                        <tr>
                                            <td> {{ form_widget(teacher) }}  {{ entity.user.firstName }} {{ entity.user.lastName }} </td>
                                        </tr>
                                  {% endfor %}
                              
                            </tbody>
                          </table>
                        </div>

                        <div class="form-group col-md-12 col-sm-12 col-xs-12">
                          <h2>Assigner un/des Elève(s) à cette classe</h2>
                          <table id="profs-table" class="table table-striped table-bordered bulk_action">
                            <thead>
                              <tr>
                                <th>Nom</th>
                              </tr>
                            </thead>

                            <tbody>
                              
                                  {% for student in form.students %}
                                    {% set index = student.vars.value %}
                                    {% set entity = form.students.vars.choices[index].data %}
                                        <tr>
                                            <td> {{ form_widget(student) }} {{ entity.user.firstName }} {{ entity.user.lastName }}</td>
                                        </tr>
                                  {% endfor %}

                            </tbody>
                          </table>
                        </div>
                      
                      
                      <div class="form-group">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                          <a href="{{ path('classroom_manager') }}"><button type="button" class="btn btn-primary">Annuler</button></a>
                          <button type="submit" class="btn btn-success">Enregistrer</button>
                        </div>
                      </div>

                    </form>

                    {{ form_end(form) }}
                  </div>
                </div>
     
          </div>
        </div>
        <!-- /page content -->

{% endblock %}

